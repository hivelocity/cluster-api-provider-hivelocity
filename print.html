<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Cluster API Provider Hivelocity</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="Documentation for CAPHV">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/css/custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="user/index.html"><strong aria-hidden="true">1.</strong> User Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="user/introduction.html"><strong aria-hidden="true">1.1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="user/getting-started.html"><strong aria-hidden="true">1.2.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="topics/index.html"><strong aria-hidden="true">1.3.</strong> Topics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="topics/provisioning-machines.html"><strong aria-hidden="true">1.3.1.</strong> Provisioning Machines</a></li><li class="chapter-item expanded "><a href="topics/environment-variables.html"><strong aria-hidden="true">1.3.2.</strong> Environment Variables</a></li><li class="chapter-item expanded "><a href="topics/make-watch.html"><strong aria-hidden="true">1.3.3.</strong> make watch</a></li><li class="chapter-item expanded "><a href="topics/hivelocity-api.html"><strong aria-hidden="true">1.3.4.</strong> Hivelocity API</a></li><li class="chapter-item expanded "><a href="topics/hivelocity-ipmi.html"><strong aria-hidden="true">1.3.5.</strong> Hivelocity IPMI</a></li><li class="chapter-item expanded "><a href="topics/clarifying-scope.html"><strong aria-hidden="true">1.3.6.</strong> Clarifying Scope</a></li><li class="chapter-item expanded "><a href="topics/csr_controller.html"><strong aria-hidden="true">1.3.7.</strong> CSR Controller</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="developer/index.html"><strong aria-hidden="true">2.</strong> Developer Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="developer/repository-layout.html"><strong aria-hidden="true">2.1.</strong> Repository Layout</a></li><li class="chapter-item expanded "><a href="developer/setup.html"><strong aria-hidden="true">2.2.</strong> Setup Dev Env</a></li><li class="chapter-item expanded "><a href="developer/tilt.html"><strong aria-hidden="true">2.3.</strong> Tilt</a></li><li class="chapter-item expanded "><a href="developer/developing.html"><strong aria-hidden="true">2.4.</strong> Developing</a></li><li class="chapter-item expanded "><a href="developer/logging.html"><strong aria-hidden="true">2.5.</strong> Logging</a></li><li class="chapter-item expanded "><a href="developer/testing.html"><strong aria-hidden="true">2.6.</strong> Testing</a></li><li class="chapter-item expanded "><a href="developer/ci.html"><strong aria-hidden="true">2.7.</strong> CI</a></li><li class="chapter-item expanded "><a href="developer/e2e.html"><strong aria-hidden="true">2.8.</strong> E2E tests</a></li><li class="chapter-item expanded "><a href="developer/docs.html"><strong aria-hidden="true">2.9.</strong> Docs</a></li></ol></li><li class="chapter-item expanded "><a href="reference/index.html"><strong aria-hidden="true">3.</strong> Reference Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="crd/index.html"><strong aria-hidden="true">3.1.</strong> CRD Reference</a></li><li class="chapter-item expanded "><a href="reference/glossary.html"><strong aria-hidden="true">3.2.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="reference/ports.html"><strong aria-hidden="true">3.3.</strong> Ports</a></li><li class="chapter-item expanded "><a href="reference/jobs.html"><strong aria-hidden="true">3.4.</strong> Jobs</a></li><li class="chapter-item expanded "><a href="reference/code-of-conduct.html"><strong aria-hidden="true">3.5.</strong> Code of Conduct</a></li><li class="chapter-item expanded "><a href="reference/CONTRIBUTING.html"><strong aria-hidden="true">3.6.</strong> Contributing</a></li><li class="chapter-item expanded "><a href="reference/versions.html"><strong aria-hidden="true">3.7.</strong> Version Support</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cluster API Provider Hivelocity</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/tree/main/docs/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="user-guide"><a class="header" href="#user-guide">User Guide</a></h1>
<h3 id="introduction"><a class="header" href="#introduction"><a href="user/./introduction.html">Introduction</a></a></h3>
<h3 id="getting-started"><a class="header" href="#getting-started"><a href="user/./getting-started.html">Getting Started</a></a></h3>
<h3 id="topics"><a class="header" href="#topics"><a href="user/../topics/index.html">Topics</a></a></h3>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kubernetes-cluster-api-provider-hivelocity"><a class="header" href="#kubernetes-cluster-api-provider-hivelocity">Kubernetes Cluster API Provider Hivelocity</a></h1>
<blockquote>
<p>⚠ This project is in the development stage. DO NOT USE IN PRODUCTION! ⚠</p>
</blockquote>
<p>The Hivelocity Provider is a Kubernetes-native tool that allows you to manage Kubernetes clusters on Hivelocity’s infrastructure.</p>
<p>It offers options for high availability with instant bare metal and simplifies the process of creating, updating, and operating production-ready clusters.</p>
<p>You can find more information about Hivelocity and their infrastructure at <a href="https://www.hivelocity.net">hivelocity.net</a>.</p>
<h2 id="-what-is-the-cluster-api-provider-hivelocity"><a class="header" href="#-what-is-the-cluster-api-provider-hivelocity">📰 What is the Cluster API Provider Hivelocity?</a></h2>
<p><a href="https://cluster-api.sigs.k8s.io/">Cluster API</a> is an operator that manages infrastructure similarly to how Kubernetes manages containers. It uses a declarative API and includes controllers that ensure the desired state of the infrastructure is maintained. This approach, referred to as Infrastructure as Software, allows for more automatic reactions to changes and problems compared to Infrastructure as Code solutions.</p>
<p>The Cluster API Provider Hivelocity (CAPHV) is the infrastructure component of the Cluster API stack. It enables the use of the Cluster API on Hivelocity’s infrastructure, facilitating the creation of stable and highly available Kubernetes clusters. This allows organizations to benefit from the advantages of declarative infrastructure and cost-effectiveness on a global scale. The Hivelocity Provider enables the creation of stable and highly available Kubernetes clusters on certified HIPAA, PCI, ISAE-3402, SSAE 16 SOC1, and SOC2 infrastructure around the globe.</p>
<p>With the Cluster API Provider Hivelocity, you can trust that your infrastructure is in good hands with a provider that has a track record of dynamic performance, static pricing, and a global presence.</p>
<h2 id="-support"><a class="header" href="#-support">📞 Support</a></h2>
<p>If you want to manage Kubernetes yourself, please contact <a href="https://www.hivelocity.net/about/contact-us/">Hivelocity</a> to set up your infrastructure.</p>
<p>If you have questions regarding running (production-ready) clusters with CAPHV, then ask <a href="https://syself.com/">Syself</a>.</p>
<h2 id="-features"><a class="header" href="#-features">✨ Features</a></h2>
<ul>
<li>Native Kubernetes manifests and API</li>
<li>Manages the bootstrapping of networking and devices</li>
<li>Choice of Linux distribution</li>
<li>Support for single and multi-node control plane clusters (HA Kubernetes)</li>
<li>Does not use SSH for bootstrapping nodes</li>
<li>Day 2 operations including updating Kubernetes and nodes, scaling, and self-healing</li>
<li>Custom CSR approver for approving kubelet-serving certificate signing requests (coming soon)</li>
<li>Support for both Hivelocity instant bare metal and custom dedicated setups</li>
</ul>
<h2 id="-get-started"><a class="header" href="#-get-started">🚀 Get Started</a></h2>
<p>If you’re looking to jump straight into it, check out the <a href="https://hivelocity.github.io/cluster-api-provider-hivelocity/user/getting-started.html">Quick Start Guide</a></p>
<h2 id="-compatibility-with-cluster-api-and-kubernetes-versions"><a class="header" href="#-compatibility-with-cluster-api-and-kubernetes-versions">🔥 Compatibility with Cluster API and Kubernetes Versions</a></h2>
<p>Please see: <a href="https://hivelocity.github.io/cluster-api-provider-hivelocity/reference/versions.html">Versions</a></p>
<p><strong>NOTE:</strong> As the versioning for this project is tied to the versioning of Cluster API, future modifications to this policy may be made to more closely align with other providers in the Cluster API ecosystem.</p>
<h2 id="-documentation"><a class="header" href="#-documentation">📖 Documentation</a></h2>
<p>Please see our <a href="https://hivelocity.github.io/cluster-api-provider-hivelocity">book</a> for in-depth documentation.</p>
<h2 id="-questions"><a class="header" href="#-questions">❓ Questions</a></h2>
<ul>
<li>If you have a question related to hardware: <a href="https://www.hivelocity.net/about/contact-us/">Hivelocity</a></li>
<li>If you have a question related to the Cluster API Provider Hivelocity: <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/discussions">Github Discussions</a></li>
<li>If you need commercial support for Cluster API Provider Hivelocity: <a href="https://syself.com">Syself</a></li>
</ul>
<h2 id="-getting-involved-and-contributing"><a class="header" href="#-getting-involved-and-contributing">👥 Getting Involved and Contributing</a></h2>
<p>Are you interested in contributing to Cluster API Provider Hivelocity? We, the maintainers and community, would love your suggestions, contributions, and help! If you want to learn more about how to get involved, you can contact the maintainers at any time.</p>
<p>To set up your environment, check out the development guide.</p>
<p>In the interest of getting more new people involved, we tag issues with <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3A%22good+first+issue%22"><code>good first issue</code></a>. These are typically issues that have a smaller scope but are a good way to get acquainted with the codebase.</p>
<p>We also encourage ALL active community participants to act as if they are maintainers, even if you don’t have “official” write permissions. This is a community effort, and we are here to serve the Kubernetes community. If you have an active interest and you want to get involved, you have real power! Don’t assume that the only people who can get things done around here are the “maintainers”.</p>
<p>We would also love to add more “official” maintainers, so show us what you can do!</p>
<h2 id="-code-of-conduct"><a class="header" href="#-code-of-conduct">💫 Code of Conduct</a></h2>
<p>Participation in the Kubernetes community is governed by the <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/blob/main/code-of-conduct.md">Kubernetes Code of Conduct</a>.</p>
<h2 id="-github-issues"><a class="header" href="#-github-issues">🚧 Github Issues</a></h2>
<h3 id="-bugs"><a class="header" href="#-bugs">🐛 Bugs</a></h3>
<p>If you think you have found a bug, please follow these steps. Even if it just a small
typo in the docs, please tell us how we can improve the project!</p>
<ul>
<li>Take some time to do due diligence in the issue tracker. Your issue might be a duplicate.</li>
<li>Get the logs from the cluster controllers and paste them into your issue.</li>
<li>Open a <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues/new?template=bug_report.md">bug report</a>.</li>
<li>Give it a meaningful title to help others who might be searching for your issue in the future.</li>
<li>If you have questions, reach out to the Cluster API community on the <a href="https://github.com/kubernetes/community/tree/master/communication#slack">Kubernetes Slack channel</a>.</li>
</ul>
<h3 id="-tracking-new-features"><a class="header" href="#-tracking-new-features">⭐ Tracking New Features</a></h3>
<p>We also use the issue tracker to track features. If you have an idea for a feature, or think that you can help Cluster API Provider Hivelocity become even more awesome, then follow these steps:</p>
<ul>
<li>Open a <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues/new?template=feature_request.md">feature request</a>.</li>
<li>Give it a meaningful title to help others who might be searching for your issue in the future.</li>
<li>Clearly define the use case. Use concrete examples, e.g. “I type <code>this</code> and Cluster API Provider Hivelocity does <code>that</code>”.</li>
<li>Some of our larger features will require some design. If you would like to include a technical design for your feature, please include it in the issue.</li>
<li>After the new feature is well understood and the design is agreed upon, we can start coding the feature. We would love it if you could code it. So please open up a <strong>WIP</strong> <em>(work in progress)</em> pull request. Happy coding!</li>
</ul>
<!-- References -->
<h1 id="-next"><a class="header" href="#-next">➡ Next</a></h1>
<p><a href="https://hivelocity.github.io/cluster-api-provider-hivelocity/user/getting-started.html">Getting Started</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started-1"><a class="header" href="#getting-started-1">Getting Started</a></h1>
<h2 id="terminology"><a class="header" href="#terminology">Terminology</a></h2>
<p>Before we begin we need to answer some questions.</p>
<h2 id="what-is-hivelocity"><a class="header" href="#what-is-hivelocity">What is Hivelocity?</a></h2>
<p>Hivelocity provides Dedicated Servers, Colocation and Cloud Hosting services to customers from over 130 countries since 2002. Hivelocity operates over 70,000 sq ft of data center space offering services in Tampa FL, Miami FL, Atlanta GA, New York NY, and Los Angeles CA. Each of Hivelocity’s data centers are HIPAA, PCI, ISAE-3402, SSAE 16 SOC1 &amp; SOC2 certified.</p>
<h2 id="what-is-kubernetes"><a class="header" href="#what-is-kubernetes">What is Kubernetes?</a></h2>
<p>Kubernetes is an open-source container orchestration system for automating software deployment, scaling, and management. Originally designed by Google, the project is now maintained by the Cloud Native Computing Foundation.</p>
<p>Kubernetes defines a set of building blocks that collectively provide mechanisms that deploy, maintain, and scale applications based on CPU, memory or custom metrics.</p>
<p>Source: <a href="https://en.wikipedia.org/wiki/Kubernetes">Wikpedia</a></p>
<h2 id="what-is-cluster-api"><a class="header" href="#what-is-cluster-api">What is Cluster API?</a></h2>
<p>Cluster API is a Kubernetes sub-project focused on providing declarative APIs and tooling to simplify provisioning, upgrading, and operating multiple Kubernetes clusters.</p>
<p>The Cluster API project uses Kubernetes-style APIs and patterns to automate cluster lifecycle management for platform operators. The supporting infrastructure, like virtual machines, networks, load balancers, and VPCs, as well as the Kubernetes cluster configuration are all defined in the same way that application developers operate deploying and managing their workloads. This enables consistent and repeatable cluster deployments across a wide variety of infrastructure environments.</p>
<p>Source: <a href="https://cluster-api.sigs.k8s.io/">cluster-api.sigs.k8s.io</a></p>
<p>Cluster API uses Kubernetes Controllers: In a <strong>management-cluster</strong> runs a controller which reconciles the state of <strong>workload-clusters</strong> until the state reaches the desired state.</p>
<p>The desire state gets specified in yaml manifests.</p>
<p><img src="user/./cluster-api.png" alt="cluster-api: management-cluster and workload-clusters" /></p>
<p>After the workload-cluster was created successfully, you can <strong>move</strong> the management-cluster into the workload-cluster. This gets done with <code>clusterclt move</code>. See <a href="https://cluster-api.sigs.k8s.io/clusterctl/commands/move.html#pivot">Cluster API Docs “pivot”</a></p>
<h2 id="what-is-cluster-api-provider-hivelocity"><a class="header" href="#what-is-cluster-api-provider-hivelocity">What is Cluster API Provider Hivelocity?</a></h2>
<p>Cluster API Hivelocity adds the infrastructure provider Hivelocity to the list of supported providers. Other providers supported by Cluster API are: AWS, Azure, Google Cloud Platform, OpenStack … (See <a href="https://cluster-api.sigs.k8s.io/reference/providers.html#infrastructure">complete list</a>)</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<p>At this moment we only support cluster management with Tilt. So follow below instructions to create management and workload cluster.</p>
<h3 id="create-a-management-cluster"><a class="header" href="#create-a-management-cluster">Create a management cluster</a></h3>
<p>Please run below command and this will use <code>tilt-provider.yaml</code> to create the provider and
<code>.envrc</code> to get all the environment variables.</p>
<pre><code class="language-shell"># Please run the command from root of this repository
make tilt-up
</code></pre>
<h3 id="create-workload-cluster"><a class="header" href="#create-workload-cluster">Create workload cluster</a></h3>
<p>There is a button in top right corner of the Tilt console to create the workload cluster.
<img src="user/./create_workload.jpg" alt="Screenshot of Tilt" /></p>
<h3 id="tear-down-resources"><a class="header" href="#tear-down-resources">Tear down resources</a></h3>
<p>There is a button in top right corner of the Tilt console to create the workload cluster.
<img src="user/./delete_workload.jpg" alt="Screenshot of Tilt" /></p>
<p>Once done delete management cluster by -</p>
<pre><code class="language-shell">make delete-mgt-cluster
</code></pre>
<h2 id="current-limitations"><a class="header" href="#current-limitations">Current Limitations</a></h2>
<h3 id="limitation-missing-loadbalancers"><a class="header" href="#limitation-missing-loadbalancers">Limitation: Missing Loadbalancers</a></h3>
<p>Up to now Loadbalancers are not supported yet. But we are working on it.</p>
<p>See <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues/55">issue #55</a></p>
<h3 id="limitation-missing-vpc-networking"><a class="header" href="#limitation-missing-vpc-networking">Limitation: Missing VPC Networking</a></h3>
<p>Up to now the machines have public IPs.</p>
<p>For security nodes should not be accessible from the public internet.</p>
<p>See <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues/78">issue #78</a></p>
<h2 id="current-known-issues"><a class="header" href="#current-known-issues">Current Known Issues</a></h2>
<h3 id="known-issue-broken-machine-state"><a class="header" href="#known-issue-broken-machine-state">Known Issue: Broken Machine State</a></h3>
<p>Sometimes machines get stuck. The hang in state “Reloading” forever. Then the support of Hivelocity
need to reset the machine.</p>
<p>Related issue at Github <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues/59">#59</a>.</p>
<h2 id="current-state-alpha"><a class="header" href="#current-state-alpha">Current State: alpha</a></h2>
<p>Up to now CAPHV is not in the <a href="https://cluster-api.sigs.k8s.io/reference/providers.html#infrastructure">official list of infrastructure providers</a>.</p>
<p>But we are working on it.</p>
<p>Please have a look at the <a href="user/../developer/index.html">Developer Guide</a>, if you want to setup a cluster.</p>
<h2 id="navigation-in-the-docs"><a class="header" href="#navigation-in-the-docs">Navigation in the docs</a></h2>
<p>On the left and right side of the documentation you see angle brackets. You can use them to switch to the next/previous page.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="topics-1"><a class="header" href="#topics-1">Topics</a></h1>
<p>This section provides details for some of the operations that need to be performed when managing clusters.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="provisioning-machines"><a class="header" href="#provisioning-machines">Provisioning Machines</a></h1>
<p>How can the CAPHV controller know which machines are free to use for a cluster?</p>
<p>You don’t want existing machines in your account to get re-provisioned to cluster nodes :-)</p>
<p>When starting a cluster you define a worker-machine-type and a control-plane-machine-type. Both values can be equal, when you don’t want to differentiate between both types.</p>
<p>Before you create your cluster you need to tag the devices accordingly.</p>
<p>The devices must have <code>caphv-use=allow</code> tag so that the controller can use them.</p>
<p>For example you set tags “caphvlabel:deviceType=hvControlPlane” on all machines which should become control planes, and “caphvlabel:deviceType=hvWorker” on all machines which should become worker nodes.</p>
<p>You can use the web-GUI of Hivelocity for this.</p>
<p>Then the CAPHV controller is able to select machines, and then provision them to become Kubernetes nodes.</p>
<p>The CAPHV controller uses <a href="https://cluster-api.sigs.k8s.io/tasks/bootstrap/kubeadm-bootstrap.html">Cluster API bootstrap provider kubeadm</a> to provision the machines.</p>
<p>⚠ If you create a cluster with <code>make tilt-up</code> or other Makefile targets, then all machines having a
corresponding <code>caphvlabel:deviceType=</code> will get all their tags cleared. This means the machine is free to use,
and it is likely to become automatically provisioned. This means all data on this machine gets lost.</p>
<p>TODO: https://github.com/hivelocity/cluster-api-provider-hivelocity/issues/73</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="environment-variables"><a class="header" href="#environment-variables">Environment Variables</a></h1>
<p>You need the environment variables <code>HIVELOCITY_API_KEY</code> and <code>KUBECONFIG</code>.</p>
<p>We use <a href="https://direnv.net/">direnv</a>. This handy tools sets environment variables, as soon
as you enter a directory. The tool <code>direnv</code> does this by reading the file <code>.envrc</code>.</p>
<p>It is up to you, how you set the environment variables. You can use a different tool, too.</p>
<p>We provided an example file <code>.envrc.example</code>, which you should adapt to your environment.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="make-watch"><a class="header" href="#make-watch">make watch</a></h1>
<p><code>make watch</code> is an ad-hoc monitoring tool that checks whether the management cluster and the workload cluster 
are operational.</p>
<p>It’s main use-case is to monitor the bootstrapping of new clusters.</p>
<p>It is not a replacement for a professional monitoring solution.</p>
<p>If there is an error, then <code>make watch</code> will show it (❌). </p>
<p>Please create a <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues">Github Issue</a> if <code>make watch</code> does not detect an error.</p>
<p>When the cluster starts some errors are common.</p>
<p>For example it will take up to 22 minutes until the ssh port of the first control plane is reachable.</p>
<p>Here a screenshot, six minutes after the Cluster and MachineDeployment manifests got applied to the management-cluster.</p>
<p><img src="topics/./make-watch.jpg" alt="make watch" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hivelocity-api"><a class="header" href="#hivelocity-api">Hivelocity API</a></h1>
<p>Hivelocity provides a rich API which you can access and test with your web browser:</p>
<p><a href="https://developers.hivelocity.net/reference/">developers.hivelocity.net/reference</a></p>
<p><img src="topics/./hivelocity-api.jpg" alt="Hivelocity API" /></p>
<h2 id="apis"><a class="header" href="#apis">APIs</a></h2>
<p>Here are some API which gets used by CAPHV:</p>
<h3 id="get_bare_metal_device_resource"><a class="header" href="#get_bare_metal_device_resource"><a href="https://developers.hivelocity.net/reference/get_bare_metal_device_resource">get_bare_metal_device_resource</a></a></h3>
<p>Get all devices. CAPHV uses this API to search for devices which are free to get provisioned.</p>
<h3 id="get_bare_metal_device_id_resource"><a class="header" href="#get_bare_metal_device_id_resource"><a href="https://developers.hivelocity.net/reference/get_bare_metal_device_id_resource">get_bare_metal_device_id_resource</a></a></h3>
<p>Get a single device. CAPHV uses this API to read the tags of a single device.</p>
<h3 id="put_bare_metal_device_id_resource"><a class="header" href="#put_bare_metal_device_id_resource"><a href="https://developers.hivelocity.net/reference/put_bare_metal_device_id_resource">put_bare_metal_device_id_resource</a></a></h3>
<p>Update/reload instant device. CAPHV uses this API to provision a device.</p>
<p>Provisioning gets done via <a href="https://cloudinit.readthedocs.io/en/latest/">cloud-init</a></p>
<h3 id="post_ssh_key_resource"><a class="header" href="#post_ssh_key_resource"><a href="https://developers.hivelocity.net/reference/post_ssh_key_resource">post_ssh_key_resource</a></a></h3>
<p>Add public ssh key</p>
<h3 id="put_device_tag_id_resource"><a class="header" href="#put_device_tag_id_resource"><a href="https://developers.hivelocity.net/reference/put_device_tag_id_resource">put_device_tag_id_resource</a></a></h3>
<p>Update device tags. CAPHV uses this API to ensure that device is part of exactly one cluster.</p>
<h2 id="client-go"><a class="header" href="#client-go">Client Go</a></h2>
<p>CAPHV uses <a href="https://github.com/hivelocity/hivelocity-client-go">hivelocity-client-go</a> to access the API from the programming language Golang.</p>
<p>This client gets automatically created from the <code>swagger.json</code> file provided by Hivelocity.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hivelocity-ipmi"><a class="header" href="#hivelocity-ipmi">Hivelocity IPMI</a></h1>
<p>Hivelocity provides an IPMI interface, which gives you (among many other things), a web UI to see
the provisioning process of machines.</p>
<p><img src="topics/./hivelocity-ipmi-1.jpg" alt="ipmi screenshot 1" /></p>
<p><img src="topics/./hivelocity-ipmi-2.jpg" alt="ipmi screenshot 2" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clarifying-scope"><a class="header" href="#clarifying-scope">Clarifying Scope</a></h1>
<p>Managing a production-grade Kubernetes system requires a seasoned team of experts.</p>
<p>The Cluster API Provider Hivelocity (CAPHV) plays a specific, limited role within this intricate ecosystem. It deals with the low-level lifecycle management of machines and infrastructure. While it can support the creation of production-ready Kubernetes clusters, it does not define the specific contents within the cluster. This important task is something that needs to be handled independently.</p>
<p>Please bear in mind, the standalone utility of this software is not intended to be production-ready!</p>
<p>Here are several aspects that CAPHV will not handle for you:</p>
<ul>
<li>production-ready node images</li>
<li>secured kubeadm configuration</li>
<li>incorporation of cluster add-ons, such as CNI or metrics-server</li>
<li>testing &amp; update procedures</li>
<li>backup procedures</li>
<li>monitoring strategies</li>
<li>alerting systems</li>
<li>identity and Access Management (IAM)</li>
</ul>
<p>The Cluster API Provider Hivelocity simply equips you with the capacity to manage a Kubernetes cluster using the Cluster API (CAPI). The security measures and defining characteristics of your Kubernetes cluster have to be addressed by you, or expert professionals should be consulted for the same.</p>
<p>Please note that ready-to-use Kubernetes configurations, production-ready node images, kubeadm configuration, cluster add-ons like CNI and similar services need to be separately prepared or acquired to ensure a comprehensive and secure Kubernetes deployment.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="csr-controller"><a class="header" href="#csr-controller">CSR Controller</a></h1>
<blockquote>
<p>In public key infrastructure (PKI) systems, a certificate signing request (also CSR or certification request) is a message sent
from an applicant to a certificate authority of the public key infrastructure in order to apply for a digital identity
certificate. It usually contains the public key for which the certificate should be issued, identifying information (such as a
domain name) and a proof of authenticity including integrity protection (e.g., a digital signature).</p>
</blockquote>
<p>Source: <a href="https://en.wikipedia.org/wiki/Certificate_signing_request">Wikipedia</a></p>
<p>Quoting <a href="https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#kubelet-serving-certs">Enabling signed kubelet serving certificates</a></p>
<blockquote>
<p>By default the kubelet serving certificate deployed by kubeadm is self-signed. This means a connection from external services
like the metrics-server to a kubelet cannot be secured with TLS.
… One known limitation is that the CSRs (Certificate Signing Requests) for these certificates cannot be automatically
approved by the default signer in the kube-controller-manager - kubernetes.io/kubelet-serving. This will require action from
the user or a third party controller.</p>
</blockquote>
<p>The CAPHV CSR Controller signs kubelet-serving certs, since this is not done by Kubernetes or kubeadm up to now.</p>
<p>Related: <a href="https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/#kubernetes-signers">List of Kubernetes Signers</a></p>
<p>The good news for you: You don’t need to do anything. It is enabled by default.</p>
<p>The CAPHV CSR controller will automatically sign the CSRs of the kubelets.</p>
<p>Alternative solutions would be:</p>
<ul>
<li>Use a tool like <a href="https://github.com/postfinance/kubelet-csr-approver">postfinance/kubelet-csr-approver</a></li>
<li>Use self-signed certs and access the kubelet with insecure TLS. For example metrics-server.</li>
<li>Approve CSR by hand (kubectl)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="developer-guide"><a class="header" href="#developer-guide">Developer Guide</a></h1>
<p>You are welcome. We love Pull-Requests to improve the code.</p>
<p>Please contact us, if you want to improve something.</p>
<p>TODO: how to contact?</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repository-layout"><a class="header" href="#repository-layout">Repository Layout</a></h1>
<pre><code>├── .envrc.example        # We use direnv to set environment variables. This is optional.
|                         # See https://direnv.net/.
|
├── .github               # GitHub config: PR templates, CI, ...
|
├── api                   # This folder is used to store types and their related resources (Go code)
|                         # present in CAPHV.
|                         # The API folder has subfolders for each supported API version.
|
├── _artifacts            # This directory is created during e2e tests.
|                         # It contains yaml files and logs.
|
├── bin                   # Binaries, mostly for envtests.
|
├── config                # This is a Kubernetes manifest folder containing application
|                         # resource configurations as
|                         # kustomize YAML definitions. These are generated from other folders in the
|                         # repo using`make generate-manifests`.
|                         # More details are in the upstream docs:
|                         # https://cluster-api.sigs.k8s.io/developer/repository-layout.html#manifest-generation
|
├── controllers           # This folder contains reconciler types which provide access to CAPHV controllers.
|                         # These types can be used by users to run any of the Cluster API controllers in an external program.
|
├── docs                  # Source for: https://hivelocity.github.io/cluster-api-provider-hivelocity/
|
├── hack                  # This folder has scripts used for building, testing, and the developer workflow.
│   └── tools/bin         # Binaries like kustomize, tilt, ctlptl ... (Intalled via the Makefile)
|
├── main.go               # This contains the main function for CAPHV. The code gets compiled to the binary `manager`.
|
├── Makefile              # Configuration for building CAPHV. Try `make help` to get an overview.
|
├── pkg                   # Go code used to implement the controller.
├── templates
│   ├── cilium            # CNI for workload clusters (you can choose a different CNI, too).
│   └── cluster-templates # YAML files for the management cluster.
|
├── test                  # Config and code for e2e tests.
|
├── Tiltfile              # Configuration for https://tilt.dev/.
└── tilt-provider.yaml
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p> # Setup a Development Environment</p>
<h2 id="tagging-machines"><a class="header" href="#tagging-machines">Tagging Machines</a></h2>
<p>First you need to tag machines, so that the CAPHV controller can select and provision them. The devices must have <code>caphv-use=allow</code> tag so that the controller can use them.</p>
<p>See <a href="developer/../topics/provisioning-machines.html">Provisioning Machines</a> for more about this.</p>
<p><code>make tilt-up</code> and other Makefile targets call <code>go run ./test/claim-devices-or-fail</code> to claim all devices
with a particular tag. But be careful, since all machines with this tag will get all existing tags removed.
Don’t accidentally “free” running machines this way.</p>
<h2 id="ssh-key"><a class="header" href="#ssh-key">SSH-Key</a></h2>
<p>The machines, which get provisioned by CAPHV have a SSH public key installed, so that you can connect
to the machine via ssh.</p>
<p>By default the ssh-key gets stored in the two files <code>~/.ssh/hivelocity</code> and <code>~/.ssh/hivelocity.pub</code>.</p>
<p>If the key pair does not exist yet, it will get created by the Makefile.</p>
<p>The keys get uploaded with <code>go run ./cmd upload-ssh-pub-key ssh-key-hivelocity-pub ~/.ssh/hivelocity.pub</code>. But for most cases this gets automatically handled for you by the scripts.</p>
<h2 id="hack-directory"><a class="header" href="#hack-directory">hack directory</a></h2>
<p>The directory <code>hack</code> contains files to support you. For example the directory <code>hack/tools/bin</code> contains
binaries (<code>envsubst</code> and <code>kustomize</code>) which are needed to create yaml templates.</p>
<p>To make your setup self-contained, these binaries get created if you execute a matching makefile target for the first time.</p>
<h2 id="api-key"><a class="header" href="#api-key">API Key</a></h2>
<p>Create a HIVELOCITY_API_KEY and add it to your <code>.envrc</code> file.</p>
<p>You can create this key via the web UI: <a href="https://my.hivelocity.net/account">my.hivelocity.net/account</a>.</p>
<h2 id="kind"><a class="header" href="#kind">Kind</a></h2>
<p>During development the management-cluster runs in local <a href="https://kind.sigs.k8s.io/">kind cluster</a>.</p>
<p>The tool <code>kind</code> gets installed into <code>hack/tools/bin/</code> automatically via the Makefile.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-tilt-for-cluster-api-provider-hivelocity"><a class="header" href="#using-tilt-for-cluster-api-provider-hivelocity">Using Tilt for Cluster API Provider Hivelocity</a></h1>
<p>We use <a href="https://tilt.dev/">Tilt</a> to start a development cluster.</p>
<h2 id="setting-tilt-up"><a class="header" href="#setting-tilt-up">Setting Tilt up</a></h2>
<p>You need to create a <code>.envrc</code> file and specify the values you need. In the git repo is already a file. You can adapt it to your needs.</p>
<p>Machines with the corresponding <code>caphvlabel:deviceType=</code> tag will get conditionless provisioned. Be sure that you don’t provision machines which run valuable workload!</p>
<p>We recommend to use custom device tags for testing.</p>
<p>More about this topic: <a href="developer/../topics/provisioning-machines.html">Provisioning Machines</a></p>
<h2 id="starting-tilt"><a class="header" href="#starting-tilt">Starting Tilt</a></h2>
<pre><code>make tilt-up
</code></pre>
<p>This will:</p>
<ul>
<li>install Tilt into <code>hack/tools/bin</code>.</li>
<li>create a local container registry with <code>ctlptl</code>.</li>
<li>create a management-cluster in <a href="https://kind.sigs.k8s.io/">Kind</a></li>
<li>start <a href="https://tilt.dev/">Tilt</a></li>
</ul>
<p>You need to press “SPACE” to open a web browser with the URL: http://localhost:10350</p>
<p><img src="developer/./tilt.jpg" alt="Screenshot of Tilt" /></p>
<p>Be sure that all Resources are ok (5/5 in above screenshot).</p>
<p>At the top right side you see an up-arrow icon. You see “Create Hivelocity Cluster” if you hover the button. You can use it
to create a new workload cluster.</p>
<p>Open a terminal and execute <a href="developer/../topics/make-watch.html">make watch</a></p>
<p><img src="developer/../topics/make-watch.jpg" alt="make watch" /></p>
<p>The output of <a href="developer/../topics/make-watch.html">make watch</a> updates itself. You can monitor the progress of the CAPHV controller.</p>
<p>Working with baremetal servers takes time. It takes roughly 20 minutes
until the ssh port of the first control plane is reachable.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="developing-cluster-api-provider-hivelocity"><a class="header" href="#developing-cluster-api-provider-hivelocity">Developing Cluster API Provider Hivelocity</a></h1>
<p>Developing our provider is quite easy. First, you need to install some base requirements. Second, you need to follow the quickstart documents to set up everything related to Hivelocity. Third, you need to configure your Tilt set-up. After having done those three steps, you can start developing with the local Kind cluster and the Tilt UI to create one of the different workload clusters that are already pre-configured.</p>
<h2 id="why-tilt"><a class="header" href="#why-tilt">Why Tilt</a></h2>
<p>Provider Integration development requires a lot of iteration, and the “build, tag, push, update deployment” workflow can be very tedious.</p>
<p>Tilt makes this process much simpler by watching for updates and automatically building and deploying them.</p>
<p>You just need to update the Go code, and if it compiles, the caphv-controller-manager will get updated.</p>
<h2 id="updating-the-api-of-the-crds"><a class="header" href="#updating-the-api-of-the-crds">Updating the API of the CRDs</a></h2>
<p>If you update the API in some way, you need to run <code>make generate</code> in order to generate everything related to kubebuilder and the CRDs.</p>
<h2 id="deleting-the-cluster"><a class="header" href="#deleting-the-cluster">Deleting the cluster</a></h2>
<p>To tear down the workload cluster press the “Delete Workload Cluster” button. After a few minutes the resources should be deleted.</p>
<p>To tear down the kind cluster, use:</p>
<pre><code class="language-shell">$ make delete-cluster
</code></pre>
<p>To delete the registry, use: <code>make delete-registry</code> or <code>make delete-cluster-registry</code>.</p>
<h2 id="make-help"><a class="header" href="#make-help">make help</a></h2>
<p>If you have any trouble finding the right command, then you can use <code>make help</code> to get a list of all available make targets.</p>
<h2 id="submitting-prs-and-testing"><a class="header" href="#submitting-prs-and-testing">Submitting PRs and testing</a></h2>
<aside class="note info">
<p>Pull requests and issues are highly encouraged! For more information, please have a look in the <a href="developer/../reference/CONTRIBUTING.html">Contribution Guidelines</a></p>
</aside>
<p>There are two important commands that you should make use of before creating the PR.</p>
<p>With <code>make verify</code> you can run all linting checks and others. Make sure that all of these checks pass - otherwise the PR cannot be merged. Note that you need to commit all changes for the last checks to pass.</p>
<p>With <code>make test</code> all unit tests are triggered. If they fail out of nowhere, then please re-run them. They are not 100% stable and sometimes there are tests failing due to something related to Kubernetes’ <code>envtest</code>.</p>
<p>With <code>make generate</code> new CRDs are generated, this is necessary if you change the api.</p>
<p>With <a href="developer/../topics/make-watch.html">make watch</a> you can monitor the progress.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="logging"><a class="header" href="#logging">Logging</a></h1>
<p>The interesting logs are from the caphv-controller-manager, because these logs got created by the code of this repository.</p>
<p>You can get the logs via <code>kubectl</code></p>
<p>First you need the exact name of the controller:</p>
<pre><code>❯ kubectl get pods -A | grep caphv-controller

capi-hivelocity-system              caphv-controller-manager-7889d9d768-7m8hr                        2/2     Running   0          53m
</code></pre>
<p>Then you can fetch the logs:</p>
<pre><code>❯ kubectl -n capi-hivelocity-system logs -f caphv-controller-manager-7889d9d768-7m8hr   &gt; caphv-controller-manager-7889d9d768-7m8hr.log
</code></pre>
<p>You can see these logs via the Tilt UI, too.</p>
<p>For debugging you can reduce the log output with this script:</p>
<pre><code>❯ ./hack/filter-caphv-controller-manager-logs.py caphv-controller-manager-7889d9d768-7m8hr.log | tail
</code></pre>
<p>Or:</p>
<pre><code>❯ kubectl -n capi-hivelocity-system logs \
    $(kubectl -n capi-hivelocity-system get pods | grep caphv-controller-manager | cut -d' ' -f1) \
    | ./hack/filter-caphv-controller-manager-logs.py - | tail
</code></pre>
<p>The command <a href="developer/../topics/make-watch.html">make watch</a> shows the last lines of logs, too.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing"><a class="header" href="#testing">Testing</a></h1>
<p>We use these types (from simple to complex):</p>
<ul>
<li>Go unit tests</li>
<li><a href="https://github.com/kubernetes-sigs/controller-runtime/tree/main/pkg/envtest">envtest</a> from controller-runtime</li>
<li><a href="developer/e2e.html">End-to-End Tests</a></li>
</ul>
<p>The unit tests and envtests get executed via <code>make test-unit</code>.</p>
<p>Please add new tests, if you add new features. </p>
<p>Try to use a simple type. For example, prefer to write a unit test to a test which needs envtest.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ci"><a class="header" href="#ci">CI</a></h1>
<p>We use Github Actions to:</p>
<ul>
<li>lint the code, so that it follows best practices</li>
<li>lint yaml files and markdown (documentation)</li>
<li>run unit tests</li>
<li>run e2e tests</li>
</ul>
<h2 id="latest-actions"><a class="header" href="#latest-actions">Latest Actions</a></h2>
<p>You can see the result of the latest jobs here: <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/actions">github.com/hivelocity/cluster-api-provider-hivelocity/actions</a></p>
<h2 id="running-github-actions-locally"><a class="header" href="#running-github-actions-locally">Running Github Actions locally</a></h2>
<p>If you are updating the Github Actions, you can speed up your edit-test feedback loop 
if you run the actions locally.</p>
<p>You need to install <a href="https://github.com/nektos/act">nektos/act</a>. </p>
<p>Then you can have a look at the available jobs:</p>
<pre><code>act -l

Stage  Job ID               Job name                      Workflow name            Workflow file         Events             
0      markdown-link-check  Broken Links                  Check PR Markdown links  lint-docs-pr.yml      pull_request       
0      deploy               deploy                        mdBook github pages      mdbook.yml            push               
0      test-release         Create a Test Release         E2E PR Blocking          pr-e2e.yaml           pull_request_target
0      manager-image        Build and push manager image  E2E PR Blocking          pr-e2e.yaml           pull_request_target
0      golangci             lint                          golangci-lint            pr-golangci-lint.yml  pull_request       
0      shellcheck           shellcheck-lint               shellcheck               pr-shellcheck.yml     pull_request       
0      starlark             run starlark lint             starlark                 pr-starlark-lint.yml  pull_request       
0      unit-test            unit-test                     unit-test                pr-unit-test.yml      pull_request       
0      verify-code          Verify Code                   Verify PR Code           pr-verify-code.yml    pull_request       
0      verify-pr-content    verify PR contents            Verify Pull Request      pr-verify.yml         pull_request_target
0      yamllint             yamllint                      yamllint test            pr-yamllint.yml       pull_request       
1      e2e-basic            End-to-End Test Basic         E2E PR Blocking          pr-e2e.yaml           pull_request_target
</code></pre>
<p>Then you can call single jobs:</p>
<pre><code>act -j yamllint 

[yamllint test/yamllint] 🚀  Start image=catthehacker/ubuntu:act-latest
[yamllint test/yamllint]   🐳  docker pull image=catthehacker/ubuntu:act-latest platform= username= forcePull=true
[yamllint test/yamllint] using DockerAuthConfig authentication for docker pull
[yamllint test/yamllint]   🐳  docker create image=catthehacker/ubuntu:act-latest platform= entrypoint=[&quot;tail&quot; &quot;-f&quot; &quot;/dev/null&quot;] cmd=[]
[yamllint test/yamllint]   🐳  docker run image=catthehacker/ubuntu:act-latest platform= entrypoint=[&quot;tail&quot; &quot;-f&quot; &quot;/dev/null&quot;] cmd=[]
[yamllint test/yamllint]   ☁  git clone 'https://github.com/actions/setup-python' # ref=v4
[yamllint test/yamllint] ⭐ Run Main actions/checkout@v3
...
</code></pre>
<p>Actions which are known to work with <code>act</code>:</p>
<ul>
<li>golangci</li>
<li>shellcheck</li>
<li>starlark</li>
<li>unit-test</li>
<li>verify-code</li>
<li>verify-pr-content</li>
<li>yamllint</li>
</ul>
<p>Actions which are known to not work with <code>act</code>:</p>
<ul>
<li>markdown-link-check</li>
</ul>
<p>Using <code>act</code> is optional and not needed, except you want to update the Github Actions. All actions are
available as Makefile targets (see <code>make help</code>), too.</p>
<h2 id="updating-github-actions"><a class="header" href="#updating-github-actions">Updating Github Actions</a></h2>
<p>In CI the Github Actions of the main branch get executed.</p>
<p>If you want to update the Github Actions you need to merge the changes to the main branch first.</p>
<p>See docs for <a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#pull_request_target">pull_request_target</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="e2e-tests"><a class="header" href="#e2e-tests">E2E tests</a></h1>
<p>End-to-end tests run in CI, so that changes get automatically tested.</p>
<h2 id="running-local-e2e-test"><a class="header" href="#running-local-e2e-test">Running local e2e test</a></h2>
<p>If you are interested in running the e2e tests locally, then you can use the following commands:</p>
<pre><code>export HIVELOCITY_API_KEY=&lt;api-key&gt;
export CAPHV_LATEST_VERSION=&lt;latest-version&gt;
make test-e2e
</code></pre>
<p>You need patience. Running the e2e tests takes roughly 40 minutes.</p>
<h2 id="updating-controller-during-e2e-test"><a class="header" href="#updating-controller-during-e2e-test">Updating controller during e2e test</a></h2>
<p>You discovered an error in the code, or you want to add some logging statement while the e2e is running?</p>
<p>Usualy development gets done with Tilt, but you can update the image during an e2e test with these steps:</p>
<p>Re-create the image:</p>
<pre><code>make e2e-image
</code></pre>
<pre><code>config=$(yq '.clusters[0].name' .mgt-cluster-kubeconfig.yaml)
kind_cluster_name=&quot;${config#kind-}&quot;

# refresh the image
kind load docker-image ghcr.io/hivelocity/caphv-staging:e2e --name=$kind_cluster_name

# restart the pod
kubectl rollout restart deployment -n capi-hivelocity-system caphv-controller-manager
</code></pre>
<p>check <a href="developer/../topics/make-watch.html">make watch</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="docs"><a class="header" href="#docs">Docs</a></h1>
<p>The markdown files are in the directory <code>docs/book/src</code>.</p>
<p>You can build the docs like this:</p>
<pre><code>make -C docs/book/ build
</code></pre>
<p>Then open your web browser:</p>
<pre><code>open ./docs/book/book/index.html
</code></pre>
<p>Via Github Actions, the docs get uploaded to: <a href="https://hivelocity.github.io/cluster-api-provider-hivelocity/">hivelocity.github.io/cluster-api-provider-hivelocity/</a></p>
<p>You can check links by using <a href="https://github.com/nektos/act">nektos/act</a>:</p>
<pre><code>act -j markdown-link-check
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reference-guide"><a class="header" href="#reference-guide">Reference Guide</a></h1>
<h3 id="crd-reference"><a class="header" href="#crd-reference"><a href="reference/../crd/index.html">CRD Reference</a></a></h3>
<h3 id="glossary"><a class="header" href="#glossary"><a href="reference/./glossary.html">Glossary</a></a></h3>
<h3 id="ports"><a class="header" href="#ports"><a href="reference/./ports.html">Ports</a></a></h3>
<h3 id="jobs"><a class="header" href="#jobs"><a href="reference/./jobs.html">Jobs</a></a></h3>
<h3 id="code-of-conduct"><a class="header" href="#code-of-conduct"><a href="reference/./code-of-conduct.html">Code of Conduct</a></a></h3>
<h3 id="contributing"><a class="header" href="#contributing"><a href="reference/./CONTRIBUTING.html">Contributing</a></a></h3>
<h3 id="version-support"><a class="header" href="#version-support"><a href="reference/./versions.html">Version Support</a></a></h3>
<div style="break-before: page; page-break-before: always;"></div><p>Packages:</p>
<ul>
<li>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io%2fv1alpha1">infrastructure.cluster.x-k8s.io/v1alpha1</a>
</li>
</ul>
<h2 id="infrastructure.cluster.x-k8s.io/v1alpha1">infrastructure.cluster.x-k8s.io/v1alpha1</h2>
<p>
<p>Package v1alpha1 contains API Schema definitions for the infrastructure v1alpha1 API group</p>
</p>
Resource Types:
<ul></ul>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.ControllerGeneratedStatus">ControllerGeneratedStatus
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineSpec">HivelocityMachineSpec</a>)
</p>
<p>
<p>ControllerGeneratedStatus contains all status information which is important to persist.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>provisioningState</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.ProvisioningState">
ProvisioningState
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Information tracked by the provisioner.</p>
</td>
</tr>
<tr>
<td>
<code>lastUpdated</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#time-v1-meta">
Kubernetes meta/v1.Time
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Time stamp of last update of status.</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityCluster">HivelocityCluster
</h3>
<p>
<p>HivelocityCluster is the Schema for the hivelocityclusters API.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#objectmeta-v1-meta">
Kubernetes meta/v1.ObjectMeta
</a>
</em>
</td>
<td>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterSpec">
HivelocityClusterSpec
</a>
</em>
</td>
<td>
<br/>
<br/>
<table>
<tr>
<td>
<code>controlPlaneEndpoint</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.APIEndpoint
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>ControlPlaneEndpoint represents the endpoint used to communicate with the control plane.</p>
</td>
</tr>
<tr>
<td>
<code>controlPlaneRegion</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.Region">
Region
</a>
</em>
</td>
<td>
<p>ControlPlaneRegion is a Hivelocity Region (LAX2, &hellip;).</p>
</td>
</tr>
<tr>
<td>
<code>hivelocitySecretRef</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocitySecretRef">
HivelocitySecretRef
</a>
</em>
</td>
<td>
<p>HivelocitySecret is a reference to a Kubernetes Secret.</p>
</td>
</tr>
<tr>
<td>
<code>sshKey</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.SSHKey">
SSHKey
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>SSHKey is cluster wide. Valid value is a valid SSH key name.</p>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterStatus">
HivelocityClusterStatus
</a>
</em>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterSpec">HivelocityClusterSpec
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityCluster">HivelocityCluster</a>, <a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplateResource">HivelocityClusterTemplateResource</a>)
</p>
<p>
<p>HivelocityClusterSpec defines the desired state of HivelocityCluster.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>controlPlaneEndpoint</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.APIEndpoint
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>ControlPlaneEndpoint represents the endpoint used to communicate with the control plane.</p>
</td>
</tr>
<tr>
<td>
<code>controlPlaneRegion</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.Region">
Region
</a>
</em>
</td>
<td>
<p>ControlPlaneRegion is a Hivelocity Region (LAX2, &hellip;).</p>
</td>
</tr>
<tr>
<td>
<code>hivelocitySecretRef</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocitySecretRef">
HivelocitySecretRef
</a>
</em>
</td>
<td>
<p>HivelocitySecret is a reference to a Kubernetes Secret.</p>
</td>
</tr>
<tr>
<td>
<code>sshKey</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.SSHKey">
SSHKey
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>SSHKey is cluster wide. Valid value is a valid SSH key name.</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterStatus">HivelocityClusterStatus
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityCluster">HivelocityCluster</a>)
</p>
<p>
<p>HivelocityClusterStatus defines the observed state of HivelocityCluster.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>ready</code><br/>
<em>
bool
</em>
</td>
<td>
</td>
</tr>
<tr>
<td>
<code>failureDomains</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.FailureDomains
</a>
</em>
</td>
<td>
</td>
</tr>
<tr>
<td>
<code>conditions</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.Conditions
</a>
</em>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplate">HivelocityClusterTemplate
</h3>
<p>
<p>HivelocityClusterTemplate is the Schema for the hivelocityclustertemplates API.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#objectmeta-v1-meta">
Kubernetes meta/v1.ObjectMeta
</a>
</em>
</td>
<td>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplateSpec">
HivelocityClusterTemplateSpec
</a>
</em>
</td>
<td>
<br/>
<br/>
<table>
<tr>
<td>
<code>template</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplateResource">
HivelocityClusterTemplateResource
</a>
</em>
</td>
<td>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplateResource">HivelocityClusterTemplateResource
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplateSpec">HivelocityClusterTemplateSpec</a>)
</p>
<p>
<p>HivelocityClusterTemplateResource contains spec for HivelocityClusterSpec.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.ObjectMeta
</a>
</em>
</td>
<td>
<em>(Optional)</em>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterSpec">
HivelocityClusterSpec
</a>
</em>
</td>
<td>
<br/>
<br/>
<table>
<tr>
<td>
<code>controlPlaneEndpoint</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.APIEndpoint
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>ControlPlaneEndpoint represents the endpoint used to communicate with the control plane.</p>
</td>
</tr>
<tr>
<td>
<code>controlPlaneRegion</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.Region">
Region
</a>
</em>
</td>
<td>
<p>ControlPlaneRegion is a Hivelocity Region (LAX2, &hellip;).</p>
</td>
</tr>
<tr>
<td>
<code>hivelocitySecretRef</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocitySecretRef">
HivelocitySecretRef
</a>
</em>
</td>
<td>
<p>HivelocitySecret is a reference to a Kubernetes Secret.</p>
</td>
</tr>
<tr>
<td>
<code>sshKey</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.SSHKey">
SSHKey
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>SSHKey is cluster wide. Valid value is a valid SSH key name.</p>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplateSpec">HivelocityClusterTemplateSpec
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplate">HivelocityClusterTemplate</a>)
</p>
<p>
<p>HivelocityClusterTemplateSpec defines the desired state of HivelocityClusterTemplate.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>template</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterTemplateResource">
HivelocityClusterTemplateResource
</a>
</em>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityDeviceType">HivelocityDeviceType
(<code>string</code> alias)</p></h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineSpec">HivelocityMachineSpec</a>)
</p>
<p>
<p>HivelocityDeviceType defines the Hivelocity device type.</p>
</p>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachine">HivelocityMachine
</h3>
<p>
<p>HivelocityMachine is the Schema for the hivelocitymachines API.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#objectmeta-v1-meta">
Kubernetes meta/v1.ObjectMeta
</a>
</em>
</td>
<td>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineSpec">
HivelocityMachineSpec
</a>
</em>
</td>
<td>
<br/>
<br/>
<table>
<tr>
<td>
<code>providerID</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
<p>ProviderID is the unique identifier as specified by the cloud provider.</p>
</td>
</tr>
<tr>
<td>
<code>type</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityDeviceType">
HivelocityDeviceType
</a>
</em>
</td>
<td>
<p>Type is the Hivelocity Machine Type for this machine.</p>
</td>
</tr>
<tr>
<td>
<code>imageName</code><br/>
<em>
string
</em>
</td>
<td>
<p>ImageName is the reference to the Machine Image from which to create the device.</p>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.ControllerGeneratedStatus">
ControllerGeneratedStatus
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Status contains all status information of the controller. Do not edit these values!</p>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineStatus">
HivelocityMachineStatus
</a>
</em>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineSpec">HivelocityMachineSpec
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachine">HivelocityMachine</a>, <a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateResource">HivelocityMachineTemplateResource</a>)
</p>
<p>
<p>HivelocityMachineSpec defines the desired state of HivelocityMachine.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>providerID</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
<p>ProviderID is the unique identifier as specified by the cloud provider.</p>
</td>
</tr>
<tr>
<td>
<code>type</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityDeviceType">
HivelocityDeviceType
</a>
</em>
</td>
<td>
<p>Type is the Hivelocity Machine Type for this machine.</p>
</td>
</tr>
<tr>
<td>
<code>imageName</code><br/>
<em>
string
</em>
</td>
<td>
<p>ImageName is the reference to the Machine Image from which to create the device.</p>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.ControllerGeneratedStatus">
ControllerGeneratedStatus
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Status contains all status information of the controller. Do not edit these values!</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineStatus">HivelocityMachineStatus
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachine">HivelocityMachine</a>)
</p>
<p>
<p>HivelocityMachineStatus defines the observed state of HivelocityMachine.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>ready</code><br/>
<em>
bool
</em>
</td>
<td>
<em>(Optional)</em>
<p>Ready is true when the provider resource is ready.</p>
</td>
</tr>
<tr>
<td>
<code>addresses</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
[]Cluster API api/v1beta1.MachineAddress
</a>
</em>
</td>
<td>
<p>Addresses contains the machine&rsquo;s associated addresses.</p>
</td>
</tr>
<tr>
<td>
<code>region</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.Region">
Region
</a>
</em>
</td>
<td>
<p>Region contains the name of the Hivelocity location the device is running.</p>
</td>
</tr>
<tr>
<td>
<code>powerState</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
<p>PowerState is the state of the device for this machine.</p>
</td>
</tr>
<tr>
<td>
<code>failureReason</code><br/>
<em>
<a href="https://pkg.go.dev/sigs.k8s.io/cluster-api@v1.0.0/errors#MachineStatusError">
Cluster API errors.MachineStatusError
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>FailureReason will be set in the event that there is a terminal problem
reconciling the Machine and will contain a succinct value suitable
for machine interpretation.</p>
</td>
</tr>
<tr>
<td>
<code>failureMessage</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
<p>FailureMessage will be set in the event that there is a terminal problem
reconciling the Machine and will contain a more verbose string suitable
for logging and human consumption.</p>
</td>
</tr>
<tr>
<td>
<code>conditions</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.Conditions
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Conditions defines current service state of the HivelocityMachine.</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplate">HivelocityMachineTemplate
</h3>
<p>
<p>HivelocityMachineTemplate is the Schema for the hivelocitymachinetemplates API.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#objectmeta-v1-meta">
Kubernetes meta/v1.ObjectMeta
</a>
</em>
</td>
<td>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateSpec">
HivelocityMachineTemplateSpec
</a>
</em>
</td>
<td>
<br/>
<br/>
<table>
<tr>
<td>
<code>template</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateResource">
HivelocityMachineTemplateResource
</a>
</em>
</td>
<td>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateStatus">
HivelocityMachineTemplateStatus
</a>
</em>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateResource">HivelocityMachineTemplateResource
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateSpec">HivelocityMachineTemplateSpec</a>)
</p>
<p>
<p>HivelocityMachineTemplateResource describes the data needed to create am HivelocityMachine from a template.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.ObjectMeta
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Standard object&rsquo;s metadata.</p>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineSpec">
HivelocityMachineSpec
</a>
</em>
</td>
<td>
<p>Spec is the specification of the desired behavior of the machine.</p>
<br/>
<br/>
<table>
<tr>
<td>
<code>providerID</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
<p>ProviderID is the unique identifier as specified by the cloud provider.</p>
</td>
</tr>
<tr>
<td>
<code>type</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityDeviceType">
HivelocityDeviceType
</a>
</em>
</td>
<td>
<p>Type is the Hivelocity Machine Type for this machine.</p>
</td>
</tr>
<tr>
<td>
<code>imageName</code><br/>
<em>
string
</em>
</td>
<td>
<p>ImageName is the reference to the Machine Image from which to create the device.</p>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.ControllerGeneratedStatus">
ControllerGeneratedStatus
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Status contains all status information of the controller. Do not edit these values!</p>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateSpec">HivelocityMachineTemplateSpec
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplate">HivelocityMachineTemplate</a>)
</p>
<p>
<p>HivelocityMachineTemplateSpec defines the desired state of HivelocityMachineTemplate.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>template</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateResource">
HivelocityMachineTemplateResource
</a>
</em>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateStatus">HivelocityMachineTemplateStatus
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplate">HivelocityMachineTemplate</a>)
</p>
<p>
<p>HivelocityMachineTemplateStatus defines the observed state of HivelocityMachineTemplate.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>capacity</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#resourcelist-v1-core">
Kubernetes core/v1.ResourceList
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Capacity defines the resource capacity for this machine.
This value is used for autoscaling from zero operations as defined in:
<a href="https://github.com/kubernetes-sigs/cluster-api/blob/main/docs/proposals/20210310-opt-in-autoscaling-from-zero.md">https://github.com/kubernetes-sigs/cluster-api/blob/main/docs/proposals/20210310-opt-in-autoscaling-from-zero.md</a></p>
</td>
</tr>
<tr>
<td>
<code>conditions</code><br/>
<em>
<a href="https://doc.crds.dev/github.com/kubernetes-sigs/cluster-api@v1.0.0">
Cluster API api/v1beta1.Conditions
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Conditions defines current service state of the HivelocityMachineTemplate.</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineTemplateWebhook">HivelocityMachineTemplateWebhook
</h3>
<p>
<p>HivelocityMachineTemplateWebhook implements a custom validation webhook for HivelocityMachineTemplate.</p>
</p>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediation">HivelocityRemediation
</h3>
<p>
<p>HivelocityRemediation is the Schema for the  hivelocityremediations API.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#objectmeta-v1-meta">
Kubernetes meta/v1.ObjectMeta
</a>
</em>
</td>
<td>
<em>(Optional)</em>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationSpec">
HivelocityRemediationSpec
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<br/>
<br/>
<table>
<tr>
<td>
<code>strategy</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.RemediationStrategy">
RemediationStrategy
</a>
</em>
</td>
<td>
<p>Strategy field defines remediation strategy.</p>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationStatus">
HivelocityRemediationStatus
</a>
</em>
</td>
<td>
<em>(Optional)</em>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationSpec">HivelocityRemediationSpec
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediation">HivelocityRemediation</a>, <a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateResource">HivelocityRemediationTemplateResource</a>)
</p>
<p>
<p>HivelocityRemediationSpec defines the desired state of HivelocityRemediation.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>strategy</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.RemediationStrategy">
RemediationStrategy
</a>
</em>
</td>
<td>
<p>Strategy field defines remediation strategy.</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationStatus">HivelocityRemediationStatus
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediation">HivelocityRemediation</a>, <a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateStatus">HivelocityRemediationTemplateStatus</a>)
</p>
<p>
<p>HivelocityRemediationStatus defines the observed state of HivelocityRemediation.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>phase</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
<p>Phase represents the current phase of machine remediation.
E.g. Pending, Running, Done etc.</p>
</td>
</tr>
<tr>
<td>
<code>retryCount</code><br/>
<em>
int
</em>
</td>
<td>
<em>(Optional)</em>
<p>RetryCount can be used as a counter during the remediation.
Field can hold number of reboots etc.</p>
</td>
</tr>
<tr>
<td>
<code>lastRemediated</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#time-v1-meta">
Kubernetes meta/v1.Time
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>LastRemediated identifies when the host was last remediated</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplate">HivelocityRemediationTemplate
</h3>
<p>
<p>HivelocityRemediationTemplate is the Schema for the  hivelocityremediationtemplates API.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>metadata</code><br/>
<em>
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#objectmeta-v1-meta">
Kubernetes meta/v1.ObjectMeta
</a>
</em>
</td>
<td>
<em>(Optional)</em>
Refer to the Kubernetes API documentation for the fields of the
<code>metadata</code> field.
</td>
</tr>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateSpec">
HivelocityRemediationTemplateSpec
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<br/>
<br/>
<table>
<tr>
<td>
<code>template</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateResource">
HivelocityRemediationTemplateResource
</a>
</em>
</td>
<td>
</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateStatus">
HivelocityRemediationTemplateStatus
</a>
</em>
</td>
<td>
<em>(Optional)</em>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateResource">HivelocityRemediationTemplateResource
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateSpec">HivelocityRemediationTemplateSpec</a>)
</p>
<p>
<p>HivelocityRemediationTemplateResource describes the data needed to create a HivelocityRemediation from a template.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>spec</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationSpec">
HivelocityRemediationSpec
</a>
</em>
</td>
<td>
<p>Spec is the specification of the desired behavior of the HivelocityRemediation.</p>
<br/>
<br/>
<table>
<tr>
<td>
<code>strategy</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.RemediationStrategy">
RemediationStrategy
</a>
</em>
</td>
<td>
<p>Strategy field defines remediation strategy.</p>
</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateSpec">HivelocityRemediationTemplateSpec
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplate">HivelocityRemediationTemplate</a>)
</p>
<p>
<p>HivelocityRemediationTemplateSpec defines the desired state of HivelocityRemediationTemplate.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>template</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateResource">
HivelocityRemediationTemplateResource
</a>
</em>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplateStatus">HivelocityRemediationTemplateStatus
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationTemplate">HivelocityRemediationTemplate</a>)
</p>
<p>
<p>HivelocityRemediationTemplateStatus defines the observed state of HivelocityRemediationTemplate.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>status</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationStatus">
HivelocityRemediationStatus
</a>
</em>
</td>
<td>
<p>HivelocityRemediationStatus defines the observed state of HivelocityRemediation</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.HivelocitySecretRef">HivelocitySecretRef
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterSpec">HivelocityClusterSpec</a>)
</p>
<p>
<p>HivelocitySecretRef defines the name of the Secret and the relevant key in the secret to access the Hivelocity API.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>name</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
</td>
</tr>
<tr>
<td>
<code>key</code><br/>
<em>
string
</em>
</td>
<td>
<em>(Optional)</em>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.ProvisioningState">ProvisioningState
(<code>string</code> alias)</p></h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.ControllerGeneratedStatus">ControllerGeneratedStatus</a>)
</p>
<p>
<p>ProvisioningState defines the states the provisioner will report the host has having.</p>
</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr><td><p>&#34;associate-device&#34;</p></td>
<td><p>StateAssociateDevice .</p>
</td>
</tr><tr><td><p>&#34;delete&#34;</p></td>
<td><p>StateDeleteDevice .</p>
</td>
</tr><tr><td><p>&#34;delete-deprovision&#34;</p></td>
<td><p>StateDeleteDeviceDeProvision .</p>
</td>
</tr><tr><td><p>&#34;delete-dissociate&#34;</p></td>
<td><p>StateDeleteDeviceDissociate .</p>
</td>
</tr><tr><td><p>&#34;provisioned&#34;</p></td>
<td><p>StateDeviceProvisioned .</p>
</td>
</tr><tr><td><p>&#34;&#34;</p></td>
<td><p>StateNone means the state is unknown.</p>
</td>
</tr><tr><td><p>&#34;provision-device&#34;</p></td>
<td><p>StateProvisionDevice .</p>
</td>
</tr><tr><td><p>&#34;verify-associate&#34;</p></td>
<td><p>StateVerifyAssociate .</p>
</td>
</tr></tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.Region">Region
(<code>string</code> alias)</p></h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterSpec">HivelocityClusterSpec</a>, <a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityMachineStatus">HivelocityMachineStatus</a>)
</p>
<p>
<p>Region is a Hivelocity Location</p>
</p>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.RemediationStrategy">RemediationStrategy
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityRemediationSpec">HivelocityRemediationSpec</a>)
</p>
<p>
<p>RemediationStrategy describes how to remediate machines.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>type</code><br/>
<em>
<a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.RemediationType">
RemediationType
</a>
</em>
</td>
<td>
<em>(Optional)</em>
<p>Type of remediation.</p>
</td>
</tr>
<tr>
<td>
<code>retryLimit</code><br/>
<em>
int
</em>
</td>
<td>
<em>(Optional)</em>
<p>Sets maximum number of remediation retries.</p>
</td>
</tr>
<tr>
<td>
<code>timeout</code><br/>
<em>
<a href="https://pkg.go.dev/k8s.io/apimachinery/pkg/apis/meta/v1#Duration">
Kubernetes meta/v1.Duration
</a>
</em>
</td>
<td>
<p>Sets the timeout between remediation retries.</p>
</td>
</tr>
</tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.RemediationType">RemediationType
(<code>string</code> alias)</p></h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.RemediationStrategy">RemediationStrategy</a>)
</p>
<p>
<p>RemediationType defines the type of remediation.</p>
</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr><td><p>&#34;Reboot&#34;</p></td>
<td><p>RemediationTypeReboot sets RemediationType to Reboot.</p>
</td>
</tr></tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.ResourceLifecycle">ResourceLifecycle
(<code>string</code> alias)</p></h3>
<p>
<p>ResourceLifecycle configures the lifecycle of a resource.</p>
</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr><td><p>&#34;owned&#34;</p></td>
<td><p>ResourceLifecycleOwned is the value we use when tagging resources to indicate
that the resource is considered owned and managed by the cluster,
and in particular that the lifecycle is tied to the lifecycle of the cluster.</p>
</td>
</tr><tr><td><p>&#34;shared&#34;</p></td>
<td><p>ResourceLifecycleShared is the value we use when tagging resources to indicate
that the resource is shared between multiple clusters, and should not be destroyed
if the cluster is destroyed.</p>
</td>
</tr></tbody>
</table>
<h3 id="infrastructure.cluster.x-k8s.io/v1alpha1.SSHKey">SSHKey
</h3>
<p>
(<em>Appears on:</em><a href="crd/index.html#infrastructure.cluster.x-k8s.io/v1alpha1.HivelocityClusterSpec">HivelocityClusterSpec</a>)
</p>
<p>
<p>SSHKey defines the SSHKey for Hivelocity.</p>
</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>name</code><br/>
<em>
string
</em>
</td>
<td>
<p>Name of SSH key.</p>
</td>
</tr>
</tbody>
</table>
<hr/>
<div style="break-before: page; page-break-before: always;"></div><h1 id="glossary-1"><a class="header" href="#glossary-1">Glossary</a></h1>
<h1 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h1>
<p><a href="reference/glossary.html#a">A</a> | <a href="reference/glossary.html#b">B</a> | <a href="reference/glossary.html#c">C</a> | <a href="reference/glossary.html#d">D</a> | <a href="reference/glossary.html#e">E</a> | <a href="reference/glossary.html#h">H</a> | <a href="reference/glossary.html#i">I</a> | <a href="reference/glossary.html#k">K</a> | <a href="reference/glossary.html#l">L</a>| <a href="reference/glossary.html#m">M</a> | <a href="reference/glossary.html#n">N</a> | <a href="reference/glossary.html#o">O</a> | <a href="reference/glossary.html#p">P</a> | <a href="reference/glossary.html#r">R</a> | <a href="reference/glossary.html#s">S</a> | <a href="reference/glossary.html#t">T</a> | <a href="reference/glossary.html#w">W</a></p>
<h1 id="a"><a class="header" href="#a">A</a></h1>
<hr />
<h3 id="add-ons"><a class="header" href="#add-ons">Add-ons</a></h3>
<p>Services beyond the fundamental components of Kubernetes.</p>
<ul>
<li><strong>Core Add-ons</strong>: Addons that are required to deploy a Kubernetes-conformant cluster: DNS, kube-proxy, CNI.</li>
<li><strong>Additional Add-ons</strong>: Addons that are not required for a Kubernetes-conformant cluster (e.g. metrics/Heapster, Dashboard).</li>
</ul>
<h1 id="b"><a class="header" href="#b">B</a></h1>
<hr />
<h3 id="bootstrap"><a class="header" href="#bootstrap">Bootstrap</a></h3>
<p>The process of turning a server into a Kubernetes node. This may involve assembling data to provide when creating the server that backs the Machine, as well as runtime configuration of the software running on that server.</p>
<h3 id="bootstrap-cluster"><a class="header" href="#bootstrap-cluster">Bootstrap cluster</a></h3>
<p>A temporary cluster that is used to provision a Target Management cluster.</p>
<h3 id="bootstrap-provider"><a class="header" href="#bootstrap-provider">Bootstrap provider</a></h3>
<p>Refers to a <a href="reference/glossary.html#provider">provider</a> that implements a solution for the <a href="reference/glossary.html#bootstrap">bootstrap</a> process.
Bootstrap provider’s interaction with Cluster API is based on what is defined in the <a href="reference/glossary.html#contract">Cluster API contract</a>.</p>
<p>See <a href="reference/glossary.html#cabpk">CABPK</a>.</p>
<h1 id="c"><a class="header" href="#c">C</a></h1>
<hr />
<h3 id="caep"><a class="header" href="#caep">CAEP</a></h3>
<p>Cluster API Enhancement Proposal - patterned after <a href="https://git.k8s.io/enhancements/keps/README.md">KEP</a>. See <a href="https://github.com/kubernetes-sigs/cluster-api/blob/main/docs/proposals/YYYYMMDD-template.md">template</a></p>
<h3 id="capi"><a class="header" href="#capi">CAPI</a></h3>
<p>Core Cluster API</p>
<h3 id="capa"><a class="header" href="#capa">CAPA</a></h3>
<p>Cluster API Provider AWS</p>
<h3 id="cabpk"><a class="header" href="#cabpk">CABPK</a></h3>
<p>Cluster API Bootstrap Provider Kubeadm</p>
<h3 id="cabpocne"><a class="header" href="#cabpocne">CABPOCNE</a></h3>
<p>Cluster API Bootstrap Provider Oracle Cloud Native Environment (OCNE)</p>
<h3 id="cacpocne"><a class="header" href="#cacpocne">CACPOCNE</a></h3>
<p>Cluster API Control Plane Provider Oracle Cloud Native Environment (OCNE)</p>
<h3 id="capc"><a class="header" href="#capc">CAPC</a></h3>
<p>Cluster API Provider CloudStack</p>
<h3 id="capd"><a class="header" href="#capd">CAPD</a></h3>
<p>Cluster API Provider Docker</p>
<h3 id="capdo"><a class="header" href="#capdo">CAPDO</a></h3>
<p>Cluster API Provider DigitalOcean</p>
<h3 id="capg"><a class="header" href="#capg">CAPG</a></h3>
<p>Cluster API Google Cloud Provider</p>
<h3 id="caph"><a class="header" href="#caph">CAPH</a></h3>
<p>Cluster API Provider Hetzner</p>
<h3 id="caphv"><a class="header" href="#caphv">CAPHV</a></h3>
<p>Cluster API Provider Hivelocity</p>
<h3 id="capibm"><a class="header" href="#capibm">CAPIBM</a></h3>
<p>Cluster API Provider IBM Cloud</p>
<h3 id="capio"><a class="header" href="#capio">CAPIO</a></h3>
<p>Cluster API Operator</p>
<h3 id="capm3"><a class="header" href="#capm3">CAPM3</a></h3>
<p>Cluster API Provider Metal3</p>
<h3 id="capn"><a class="header" href="#capn">CAPN</a></h3>
<p>Cluster API Provider Nested</p>
<h3 id="capx"><a class="header" href="#capx">CAPX</a></h3>
<p>Cluster API Provider Nutanix</p>
<h3 id="capkk"><a class="header" href="#capkk">CAPKK</a></h3>
<p>Cluster API Provider KubeKey</p>
<h3 id="capk"><a class="header" href="#capk">CAPK</a></h3>
<p>Cluster API Provider Kubevirt</p>
<h3 id="capo"><a class="header" href="#capo">CAPO</a></h3>
<p>Cluster API Provider OpenStack</p>
<h3 id="caposc"><a class="header" href="#caposc">CAPOSC</a></h3>
<p>Cluster API Provider Outscale</p>
<h3 id="capoci"><a class="header" href="#capoci">CAPOCI</a></h3>
<p>Cluster API Provider Oracle Cloud Infrastructure (OCI)</p>
<h3 id="capv"><a class="header" href="#capv">CAPV</a></h3>
<p>Cluster API Provider vSphere</p>
<h3 id="capvc"><a class="header" href="#capvc">CAPVC</a></h3>
<p>Cluster API Provider vcluster</p>
<h3 id="capvcd"><a class="header" href="#capvcd">CAPVCD</a></h3>
<p>Cluster API Provider VMware Cloud Director</p>
<h3 id="capz"><a class="header" href="#capz">CAPZ</a></h3>
<p>Cluster API Provider Azure</p>
<h3 id="caipamic"><a class="header" href="#caipamic">CAIPAMIC</a></h3>
<p>Cluster API IPAM Provider In Cluster</p>
<h3 id="cloud-provider"><a class="header" href="#cloud-provider">Cloud provider</a></h3>
<p>Or <strong>Cloud service provider</strong></p>
<p>Refers to an information technology (IT) company that provides computing resources (e.g. AWS, Azure, Google, etc.).</p>
<h3 id="cluster"><a class="header" href="#cluster">Cluster</a></h3>
<p>A full Kubernetes deployment. See Management Cluster and Workload Cluster.</p>
<h3 id="clusterclass"><a class="header" href="#clusterclass">ClusterClass</a></h3>
<p>A collection of templates that define a topology (control plane and workers) to be used to continuously reconcile one or more Clusters.
See <a href="reference/../tasks/experimental-features/cluster-class/index.html">ClusterClass</a></p>
<h3 id="cluster-api"><a class="header" href="#cluster-api">Cluster API</a></h3>
<p>Or <strong>Cluster API project</strong></p>
<p>The Cluster API sub-project of the SIG-cluster-lifecycle. It is also used to refer to the software components, APIs, and community that produce them.</p>
<p>See <a href="reference/glossary.html#core-provider">core provider</a></p>
<h3 id="cluster-api-runtime"><a class="header" href="#cluster-api-runtime">Cluster API Runtime</a></h3>
<p>The Cluster API execution model, a set of controllers cooperating in managing the Kubernetes cluster lifecycle.</p>
<h3 id="cluster-infrastructure"><a class="header" href="#cluster-infrastructure">Cluster Infrastructure</a></h3>
<p>or <strong>Kubernetes Cluster Infrastructure</strong></p>
<p>Defines the <strong>infrastructure that supports a Kubernetes cluster</strong>, like e.g. VPC, security groups, load balancers, etc. Please note that in the context of managed Kubernetes some of those components are going to be provided by the corresponding abstraction for a specific Cloud provider (EKS, OKE, AKS etc), and thus Cluster API should not take care of managing a subset or all those components.</p>
<h3 id="contract"><a class="header" href="#contract">Contract</a></h3>
<p>Or <strong>Cluster API contract</strong></p>
<p>Defines a set of rules a <a href="reference/glossary.html#provider">provider</a> is expected to comply with in order to interact with Cluster API.
Those rules can be in the form of CustomResourceDefinition (CRD) fields and/or expected behaviors to be implemented.</p>
<h3 id="control-plane"><a class="header" href="#control-plane">Control plane</a></h3>
<p>The set of Kubernetes services that form the basis of a cluster. See also <a href="https://kubernetes.io/docs/concepts/#kubernetes-control-plane">https://kubernetes.io/docs/concepts/#kubernetes-control-plane</a> There are two variants:</p>
<ul>
<li><strong>Self-provisioned</strong>: A Kubernetes control plane consisting of pods or machines wholly managed by a single Cluster API deployment.</li>
<li><strong>External</strong> or <strong>Managed</strong>: A control plane offered and controlled by some system other than Cluster API (e.g., GKE, AKS, EKS, IKS).</li>
</ul>
<h3 id="control-plane-provider"><a class="header" href="#control-plane-provider">Control plane provider</a></h3>
<p>Refers to a <a href="reference/glossary.html#provider">provider</a> that implements a solution for the management of a Kubernetes <a href="reference/glossary.html#control-plane">control plane</a>.
Control plane provider’s interaction with Cluster API is based on what is defined in the <a href="reference/glossary.html#contract">Cluster API contract</a>.</p>
<p>See <a href="reference/glossary.html#kcp">KCP</a>.</p>
<h3 id="core-provider"><a class="header" href="#core-provider">Core provider</a></h3>
<p>Refers to a <a href="reference/glossary.html#provider">provider</a> that implements Cluster API core controllers; if you
consider that the first project that must be deployed in a management Cluster is Cluster API itself, it should be clear why
the Cluster API project is also referred to as the core provider.</p>
<p>See <a href="reference/glossary.html#cluster-api">CAPI</a>.</p>
<h1 id="d"><a class="header" href="#d">D</a></h1>
<hr />
<h3 id="default-implementation"><a class="header" href="#default-implementation">Default implementation</a></h3>
<p>A feature implementation offered as part of the Cluster API project and maintained by the CAPI core team; For example
<a href="reference/glossary.html#kcp">KCP</a> is a default implementation for a <a href="reference/glossary.html#control-plane-provider">control plane provider</a>.</p>
<h1 id="e"><a class="header" href="#e">E</a></h1>
<hr />
<h3 id="external-patch"><a class="header" href="#external-patch">External patch</a></h3>
<p><a href="reference/glossary.html#patch">Patch</a> generated by an external component using <a href="reference/glossary.html#runtime-sdk">Runtime SDK</a>. Alternative to <a href="reference/glossary.html#inline-patch">inline patch</a>.</p>
<h3 id="external-patch-extension"><a class="header" href="#external-patch-extension">External patch extension</a></h3>
<p>A <a href="reference/glossary.html#runtime-extension">runtime extension</a> that implements a <a href="reference/glossary.html#topology-mutation-hook">topology mutation hook</a>.</p>
<h1 id="h"><a class="header" href="#h">H</a></h1>
<hr />
<h3 id="horizontal-scaling"><a class="header" href="#horizontal-scaling">Horizontal Scaling</a></h3>
<p>The ability to add more machines based on policy and well-defined metrics. For example, add a machine to a cluster when CPU load average &gt; (X) for a period of time (Y).</p>
<h3 id="host"><a class="header" href="#host">Host</a></h3>
<p>see <a href="reference/glossary.html#server">Server</a></p>
<h1 id="i"><a class="header" href="#i">I</a></h1>
<hr />
<h3 id="infrastructure-provider"><a class="header" href="#infrastructure-provider">Infrastructure provider</a></h3>
<p>Refers to a <a href="reference/glossary.html#provider">provider</a> that implements provisioning of infrastructure/computational resources required by
the Cluster or by Machines (e.g. VMs, networking, etc.).
Infrastructure provider’s interaction with Cluster API is based on what is defined in the <a href="reference/glossary.html#contract">Cluster API contract</a>.</p>
<p>Clouds infrastructure providers include AWS, Azure, or Google; while VMware, MAAS, or metal3.io can be defined as bare metal providers.
When there is more than one way to obtain resources from the same infrastructure provider (e.g. EC2 vs. EKS in AWS) each way is referred to as a variant.</p>
<p>For a complete list of providers see <a href="reference/providers.html">Provider Implementations</a>.</p>
<h3 id="inline-patch"><a class="header" href="#inline-patch">Inline patch</a></h3>
<p>A <a href="reference/glossary.html#patch">patch</a> defined inline in a <a href="reference/glossary.html#clusterclass">ClusterClass</a>. An alternative to an <a href="reference/glossary.html#external-patch">external patch</a>.</p>
<h3 id="in-place-mutable-fields"><a class="header" href="#in-place-mutable-fields">In-place mutable fields</a></h3>
<p>Fields which changes would only impact Kubernetes objects or/and controller behaviour
but they won’t mutate in any way provider infrastructure nor the software running on it. In-place mutable fields
are propagated in place by CAPI controllers to avoid the more elaborated mechanics of a replace rollout.
They include metadata, MinReadySeconds, NodeDrainTimeout, NodeVolumeDetachTimeout and NodeDeletionTimeout but are
not limited to be expanded in the future.</p>
<h3 id="instance"><a class="header" href="#instance">Instance</a></h3>
<p>see <a href="reference/glossary.html#server">Server</a></p>
<h3 id="immutability"><a class="header" href="#immutability">Immutability</a></h3>
<p>A resource that does not mutate.  In Kubernetes we often state the instance of a running pod is immutable or does not change once it is run.  In order to make a change, a new pod is run.  In the context of <a href="reference/glossary.html#cluster-api">Cluster API</a> we often refer to a running instance of a <a href="reference/glossary.html#machine">Machine</a> as being immutable, from a <a href="reference/glossary.html#cluster-api">Cluster API</a> perspective.</p>
<h3 id="ipam-provider"><a class="header" href="#ipam-provider">IPAM provider</a></h3>
<p>Refers to a <a href="reference/glossary.html#provider">provider</a> that allows Cluster API to interact with IPAM solutions.
IPAM provider’s interaction with Cluster API is based on the <code>IPAddressClaim</code> and <code>IPAddress</code> API types.</p>
<h1 id="k"><a class="header" href="#k">K</a></h1>
<hr />
<h3 id="kubernetes-conformant"><a class="header" href="#kubernetes-conformant">Kubernetes-conformant</a></h3>
<p>Or <strong>Kubernetes-compliant</strong></p>
<p>A cluster that passes the Kubernetes conformance tests.</p>
<h3 id="kk"><a class="header" href="#kk">k/k</a></h3>
<p>Refers to the <a href="https://github.com/kubernetes/kubernetes">main Kubernetes git repository</a> or the main Kubernetes project.</p>
<h3 id="kcp"><a class="header" href="#kcp">KCP</a></h3>
<p>Kubeadm Control plane Provider</p>
<h1 id="l"><a class="header" href="#l">L</a></h1>
<hr />
<h3 id="lifecycle-hook"><a class="header" href="#lifecycle-hook">Lifecycle hook</a></h3>
<p>A <a href="reference/glossary.html#runtime-hook">Runtime Hook</a> that allows external components to interact with the lifecycle of a Cluster.</p>
<p>See <a href="reference/../tasks/experimental-features/runtime-sdk/implement-lifecycle-hooks.html">Implementing Lifecycle Hooks</a></p>
<h1 id="m"><a class="header" href="#m">M</a></h1>
<hr />
<h3 id="machine"><a class="header" href="#machine">Machine</a></h3>
<p>Or <strong>Machine Resource</strong></p>
<p>The Custom Resource for Kubernetes that represents a request to have a place to run kubelet.</p>
<p>See also: <a href="reference/glossary.html#server">Server</a></p>
<h3 id="manage-a-cluster"><a class="header" href="#manage-a-cluster">Manage a cluster</a></h3>
<p>Perform create, scale, upgrade, or destroy operations on the cluster.</p>
<h3 id="managed-kubernetes"><a class="header" href="#managed-kubernetes">Managed Kubernetes</a></h3>
<p>Managed Kubernetes refers to any Kubernetes cluster provisioning and maintenance abstraction, usually exposed as an API, that is natively available in a Cloud provider. For example: <a href="https://aws.amazon.com/eks/">EKS</a>, <a href="https://www.oracle.com/cloud/cloud-native/container-engine-kubernetes/">OKE</a>, <a href="https://azure.microsoft.com/en-us/products/kubernetes-service">AKS</a>, <a href="https://cloud.google.com/kubernetes-engine">GKE</a>, <a href="https://www.ibm.com/cloud/kubernetes-service">IBM Cloud Kubernetes Service</a>, <a href="https://www.digitalocean.com/products/kubernetes">DOKS</a>, and many more throughout the Kubernetes Cloud Native ecosystem.</p>
<h3 id="managed-topology"><a class="header" href="#managed-topology">Managed Topology</a></h3>
<p>See <a href="reference/glossary.html#topology">Topology</a></p>
<h3 id="management-cluster"><a class="header" href="#management-cluster">Management cluster</a></h3>
<p>The cluster where one or more Infrastructure Providers run, and where resources (e.g. Machines) are stored. Typically referred to when you are provisioning multiple workload clusters.</p>
<h3 id="multi-tenancy"><a class="header" href="#multi-tenancy">Multi-tenancy</a></h3>
<p>Multi tenancy in Cluster API defines the capability of an infrastructure provider to manage different credentials, each
one of them corresponding to an infrastructure tenant.</p>
<p>Please note that up until v1alpha3 this concept had a different meaning, referring to the capability to run multiple
instances of the same provider, each one with its own credentials; starting from v1alpha4 we are disambiguating the two concepts.</p>
<p>See <a href="reference/../developer/architecture/controllers/multi-tenancy.html">Multi-tenancy</a> and <a href="reference/../developer/architecture/controllers/support-multiple-instances.html">Support multiple instances</a>.</p>
<h1 id="n"><a class="header" href="#n">N</a></h1>
<hr />
<h3 id="node-pools"><a class="header" href="#node-pools">Node pools</a></h3>
<p>A node pool is a group of nodes within a cluster that all have the same configuration.</p>
<h1 id="o"><a class="header" href="#o">O</a></h1>
<hr />
<h3 id="operating-system"><a class="header" href="#operating-system">Operating system</a></h3>
<p>Or <strong>OS</strong></p>
<p>A generically understood combination of a kernel and system-level userspace interface, such as Linux or Windows, as opposed to a particular distribution.</p>
<h1 id="p"><a class="header" href="#p">P</a></h1>
<hr />
<h3 id="patch"><a class="header" href="#patch">Patch</a></h3>
<p>A set of instructions describing modifications to a Kubernetes object. Examples include JSON Patch and JSON Merge Patch.</p>
<h3 id="pivot"><a class="header" href="#pivot">Pivot</a></h3>
<p>Pivot is a process for moving the provider components and declared cluster-api resources from a Source Management cluster to a Target Management cluster.</p>
<p>The pivot process is also used for deleting a management cluster and could also be used during an upgrade of the management cluster.</p>
<h3 id="provider"><a class="header" href="#provider">Provider</a></h3>
<p>Or <strong>Cluster API provider</strong></p>
<p>This term was originally used as abbreviation for <a href="reference/glossary.html#infrastructure-provider">Infrastructure provider</a>, but currently it is used
to refer to any project that can be deployed and provides functionality to the Cluster API management Cluster.</p>
<p>See <a href="reference/glossary.html#bootstrap-provider">Bootstrap provider</a>, <a href="reference/glossary.html#control-plane-provider">Control plane provider</a>, <a href="reference/glossary.html#core-provider">Core provider</a>,
<a href="reference/glossary.html#infrastructure-provider">Infrastructure provider</a>, <a href="reference/glossary.html#ipam-provider">IPAM provider</a>  <a href="reference/glossary.html#runtime-extension-provider">Runtime extension provider</a>.</p>
<h3 id="provider-components"><a class="header" href="#provider-components">Provider components</a></h3>
<p>Refers to the YAML artifact published as part of the release process for <a href="reference/glossary.html#provider">providers</a>;
it usually includes Custom Resource Definitions (CRDs), Deployments (to run the controller manager), RBAC, etc.</p>
<p>In some cases, the same expression is used to refer to the instances of above components deployed in a management cluster.</p>
<p>See <a href="reference/glossary.html#provider-repository">Provider repository</a></p>
<h3 id="provider-repository"><a class="header" href="#provider-repository">Provider repository</a></h3>
<p>Refers to the location where the YAML for <a href="reference/glossary.html#provider-components">provider components</a> are hosted; usually a provider repository hosts
many version of provider components, one for each released version.</p>
<h1 id="r"><a class="header" href="#r">R</a></h1>
<hr />
<h3 id="runtime-extension"><a class="header" href="#runtime-extension">Runtime Extension</a></h3>
<p>An external component which is part of a system built on top of Cluster API that can handle requests for a specific Runtime Hook.</p>
<p>See <a href="reference/glossary.html#runtime-sdk">Runtime SDK</a></p>
<h3 id="runtime-extension-provider"><a class="header" href="#runtime-extension-provider">Runtime Extension provider</a></h3>
<p>Refers to a <a href="reference/glossary.html#provider">provider</a> that implements one or more <a href="reference/glossary.html#runtime-extension">runtime extensions</a>.
Runtime Extension provider’s interaction with Cluster API are based on the Open API spec for <a href="reference/glossary.html#runtime-hook">runtime hooks</a>.</p>
<h3 id="runtime-hook"><a class="header" href="#runtime-hook">Runtime Hook</a></h3>
<p>A single, well identified, extension point allowing applications built on top of Cluster API to hook into specific moments of the <a href="reference/glossary.html#cluster-api-runtime">Cluster API Runtime</a>, e.g. <a href="reference/../tasks/experimental-features/runtime-sdk/implement-lifecycle-hooks.html#beforeclusterupgrade">BeforeClusterUpgrade</a>, <a href="reference/glossary.html#topology-mutation-hook">TopologyMutationHook</a>.</p>
<p>See <a href="reference/glossary.html#runtime-sdk">Runtime SDK</a></p>
<h3 id="runtime-sdk"><a class="header" href="#runtime-sdk">Runtime SDK</a></h3>
<p>A developer toolkit required to build Runtime Hooks and Runtime Extensions.</p>
<p>See <a href="reference/../tasks/experimental-features/runtime-sdk/index.html">Runtime SDK</a></p>
<h1 id="s"><a class="header" href="#s">S</a></h1>
<hr />
<h3 id="scaling"><a class="header" href="#scaling">Scaling</a></h3>
<p>Unless otherwise specified, this refers to horizontal scaling.</p>
<h3 id="stacked-control-plane"><a class="header" href="#stacked-control-plane">Stacked control plane</a></h3>
<p>A control plane node where etcd is colocated with the Kubernetes API server, and
is running as a static pod.</p>
<h3 id="server"><a class="header" href="#server">Server</a></h3>
<p>The infrastructure that backs a <a href="reference/glossary.html#machine">Machine Resource</a>, typically either a cloud instance, virtual machine, or physical host.</p>
<h1 id="t"><a class="header" href="#t">T</a></h1>
<hr />
<h3 id="topology"><a class="header" href="#topology">Topology</a></h3>
<p>A field in the Cluster object spec that allows defining and managing the shape of the Cluster’s control plane and worker machines from a single point of control. The Cluster’s topology is based on a <a href="reference/glossary.html#clusterclass">ClusterClass</a>.
Sometimes it is also referred as a managed topology.</p>
<p>See <a href="reference/glossary.html#clusterclass">ClusterClass</a></p>
<h3 id="topology-mutation-hook"><a class="header" href="#topology-mutation-hook">Topology Mutation Hook</a></h3>
<p>A <a href="reference/glossary.html#runtime-hook">Runtime Hook</a> that allows external components to generate <a href="reference/glossary.html#patch">patches</a> for customizing Kubernetes objects that are part of a <a href="reference/glossary.html#topology">Cluster topology</a>.</p>
<p>See <a href="reference/../tasks/experimental-features/runtime-sdk/implement-topology-mutation-hook.html">Topology Mutation</a></p>
<h1 id="w"><a class="header" href="#w">W</a></h1>
<hr />
<h3 id="workload-cluster"><a class="header" href="#workload-cluster">Workload Cluster</a></h3>
<p>A cluster created by a ClusterAPI controller, which is <em>not</em> a bootstrap cluster, and is meant to be used by end-users, as opposed to by CAPI tooling.</p>
<h3 id="workerclass"><a class="header" href="#workerclass">WorkerClass</a></h3>
<p>A collection of templates that define a set of worker nodes in the cluster. A ClusterClass contains zero or more WorkerClass definitions.</p>
<p>See <a href="reference/glossary.html#clusterclass">ClusterClass</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ports-1"><a class="header" href="#ports-1">Ports</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Port Number</th><th>Description</th></tr></thead><tbody>
<tr><td><code>metrics</code></td><td></td><td>Port that exposes the metrics. This can be customized by setting the <code>--metrics-bind-addr</code> flag when starting the manager. The default is to only listen on <code>localhost:8080</code></td></tr>
<tr><td><code>webhook</code></td><td><code>9443</code></td><td>Webhook server port. To disable this set <code>--webhook-port</code> flag to <code>0</code>.</td></tr>
<tr><td><code>health</code></td><td><code>9440</code></td><td>Port that exposes the health endpoint. This can be customized by setting the <code>--health-addr</code> flag when starting the manager.</td></tr>
<tr><td><code>profiler</code></td><td></td><td>Expose the pprof profiler. By default is not configured. Can set the <code>--profiler-address</code> flag. e.g. <code>--profiler-address 6060</code></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="jobs-1"><a class="header" href="#jobs-1">Jobs</a></h1>
<p>TBD</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kubernetes-community-code-of-conduct"><a class="header" href="#kubernetes-community-code-of-conduct">Kubernetes Community Code of Conduct</a></h1>
<p>Please refer to our <a href="https://git.k8s.io/community/code-of-conduct.md">Kubernetes Community Code of Conduct</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributing-guidelines"><a class="header" href="#contributing-guidelines">Contributing Guidelines</a></h1>
<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
<ul>
<li><a href="reference/CONTRIBUTING.html#contributing-guidelines">Contributing Guidelines</a>
<ul>
<li><a href="reference/CONTRIBUTING.html#finding-things-that-need-help">Finding Things That Need Help</a></li>
<li><a href="reference/CONTRIBUTING.html#branches">Branches</a></li>
<li><a href="reference/CONTRIBUTING.html#contributing-a-patch">Contributing a Patch</a></li>
</ul>
</li>
</ul>
<!-- END doctoc generated TOC please keep comment here to allow auto update -->
<p>Read the following guide if you’re interested in contributing to cluster-api-provider-hivelocity.</p>
<h2 id="finding-things-that-need-help"><a class="header" href="#finding-things-that-need-help">Finding Things That Need Help</a></h2>
<p>If you’re new to the project and want to help, but don’t know where to start, we have a semi-curated list of issues that should not need deep knowledge of the system. <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22">Have a look and see if anything sounds interesting</a>.
Before starting to work on the issue, make sure that it doesn’t have a <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/labels/lifecycle%2Factive">lifecycle/active</a> label. If the issue has been assigned, reach out to the assignee.
Alternatively, read some of the docs on other controllers and try to write your own, file and fix any/all issues that come up, including gaps in documentation!</p>
<p>If you’re a more experienced contributor, looking at unassigned issues in the next release milestone is a good way to find work that has been prioritized. For example, if the latest minor release is <code>v1.0</code>, the next release milestone is <code>v1.1</code>.</p>
<p>Help and contributions are very welcome in the form of code contributions but also in helping to moderate office hours, triaging issues, fixing/investigating flaky tests, cutting releases, helping new contributors with their questions, reviewing proposals, etc.</p>
<h2 id="branches"><a class="header" href="#branches">Branches</a></h2>
<p>Cluster API has two types of branches: the <em>main</em> branch and
<em>release-X</em> branches.</p>
<p>The <em>main</em> branch is where development happens. All the latest and
greatest code, including breaking changes, happens on main.</p>
<p>The <em>release-X</em> branches contain stable, backwards compatible code. On every
major or minor release, a new branch is created. It is from these
branches that minor and patch releases are tagged. In some cases, it may
be necessary to open PRs for bugfixes directly against stable branches, but
this should generally not be the case.</p>
<h2 id="contributing-a-patch"><a class="header" href="#contributing-a-patch">Contributing a Patch</a></h2>
<ol>
<li>If working on an issue, signal other contributors that you are actively working on it using <code>/lifecycle active</code>.</li>
<li>Fork the desired repo, develop and test your code changes.
<ol>
<li>See the <a href="reference/docs/book/src/developer/index.html">Development Guide</a> for more instructions on setting up your environment and testing changes locally.</li>
</ol>
</li>
<li>Submit a pull request.
<ol>
<li>All PRs should be labeled with one of the following kinds
<ul>
<li><code>/kind feature</code> for PRs releated to adding new features/tests</li>
<li><code>/kind bug</code> for PRs releated to bug fixes and patches</li>
<li><code>/kind api-change</code> for PRs releated to adding, removing, or otherwise changing an API</li>
<li><code>/kind cleanup</code> for PRs releated to code refactoring and cleanup</li>
<li><code>/kind deprecation</code> for PRs related to a feature/enhancement marked for deprecation.</li>
<li><code>/kind design</code> for PRs releated to design proposals</li>
<li><code>/kind documentation</code> for PRs releated to documentation</li>
<li><code>/kind failing-test</code> for PRs releated to to a consistently or frequently failing test.</li>
<li><code>/kind flake</code> for PRs related to a flaky test.</li>
<li><code>/kind other</code> for PRs releated to updating dependencies, minor changes or other</li>
</ul>
</li>
<li>All code PR must be have a title starting with one of
<ul>
<li>⚠️ (<code>⚠</code>, major or breaking changes)</li>
<li>✨ (<code>✨</code>, feature additions)</li>
<li>🐛 (<code>🐛</code>, patch and bugfixes)</li>
<li>📖 (<code>📖</code>, documentation or proposals)</li>
<li>🌱 (<code>🌱</code>, minor or other)</li>
</ul>
</li>
<li>If the PR requires additional action from users switching to a new release, include the string “action required” in the PR release-notes.</li>
<li>All code changes must be covered by unit tests and E2E tests.</li>
<li>All new features should come with user documentation.</li>
</ol>
</li>
<li>Once the PR has been reviewed and is ready to be merged, commits should be <a href="https://github.com/kubernetes/community/blob/master/contributors/guide/github-workflow.md#squash-commits">squashed</a>.
<ol>
<li>Ensure that commit message(s) are be meaningful and commit history is readable.</li>
</ol>
</li>
</ol>
<p>All changes must be code reviewed. Coding conventions and standards are explained in the official <a href="https://github.com/kubernetes/community/tree/master/contributors/devel">developer docs</a>. Expect reviewers to request that you avoid common <a href="https://github.com/golang/go/wiki/CodeReviewComments">go style mistakes</a> in your PRs.</p>
<p>In case you want to run our E2E tests locally, please refer to
<a href="https://hivelocity.github.io/cluster-api-provider-hivelocity/developer/e2e.html">Docs / E2E Tests</a> guide.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="version-support-1"><a class="header" href="#version-support-1">Version Support</a></h1>
<h2 id="release-versioning"><a class="header" href="#release-versioning">Release Versioning</a></h2>
<p>CAPHV follows the <a href="https://semver.org/#semantic-versioning-200">semantic versionining</a> specification:</p>
<p>MAJOR version release for incompatible API changes,
MINOR version release for backwards compatible feature additions,
and PATCH version release for only bug fixes.</p>
<p><strong>Example versions:</strong></p>
<ul>
<li>Minor release: <code>v0.1.0</code></li>
<li>Patch release: <code>v0.1.1</code></li>
<li>Major release: <code>v1.0.0</code></li>
</ul>
<h2 id="compatibility-with-cluster-api-versions"><a class="header" href="#compatibility-with-cluster-api-versions">Compatibility with Cluster API Versions</a></h2>
<p>CAPHV’s versions are compatible with the following versions of Cluster API</p>
<div class="table-wrapper"><table><thead><tr><th></th><th>Cluster API <code>v1beta1</code> (<code>v1.4.x</code>)</th></tr></thead><tbody>
<tr><td>CAPHV v1alpha1 <code>v1.0.x</code></td><td>✓</td></tr>
</tbody></table>
</div>
<p>CAPHV versions are not released in lock-step with Cluster API releases.
Multiple CAPHV minor releases can use the same Cluster API minor release.</p>
<p>For compatibility, check the release notes <a href="https://github.com/hivelocity/cluster-api-provider-hivelocity/releases/">here</a> to see which v1beta1 Cluster API version each CAPHV version is compatible with.</p>
<p>For example:</p>
<ul>
<li>CAPHV v1.0.x is compatible with Cluster API v1.4.x</li>
</ul>
<h2 id="end-of-life-timeline"><a class="header" href="#end-of-life-timeline">End-of-Life Timeline</a></h2>
<p>TBD</p>
<h2 id="compatibility-with-kubernetes-versions"><a class="header" href="#compatibility-with-kubernetes-versions">Compatibility with Kubernetes Versions</a></h2>
<p>CAPHV API versions support all Kubernetes versions that is supported by its compatible Cluster API version:</p>
<div class="table-wrapper"><table><thead><tr><th>API Versions</th><th>CAPI v1beta1 (v1.x)</th></tr></thead><tbody>
<tr><td>CAPHV v1alpha1 (v0.1)</td><td>✓</td></tr>
</tbody></table>
</div>
<p>(See <a href="https://cluster-api.sigs.k8s.io/reference/versions.html">Kubernetes support matrix</a> of Cluster API versions).</p>
<p>Tested Kubernetes Versions:</p>
<div class="table-wrapper"><table><thead><tr><th></th><th>Hivelocity Provider <code>v0.1.x</code></th></tr></thead><tbody>
<tr><td>Kubernetes 1.25.x</td><td>✓</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
